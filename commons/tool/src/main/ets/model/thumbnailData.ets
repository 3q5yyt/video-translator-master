import image from '@ohos.multimedia.image';class BasicDataSource implements IDataSource {  private listeners: DataChangeListener[] = [];  private originDataArray: ThumbnailData[] = [];  public totalCount(): number {    return this.originDataArray.length;  }  public getData(index: number): ThumbnailData {    return this.originDataArray[index];  }  registerDataChangeListener(listener: DataChangeListener): void {    if (this.listeners.indexOf(listener) < 0) {      console.info('add listener');      this.listeners.push(listener);    }  }  unregisterDataChangeListener(listener: DataChangeListener): void {    const pos = this.listeners.indexOf(listener);    if (pos >= 0) {      console.info('remove listener');      this.listeners.splice(pos, 1);    }  }  notifyDataReload(): void {    this.listeners.forEach(listener => {      listener.onDataReloaded();    });  }  notifyDataAdd(index: number): void {    this.listeners.forEach(listener => {      listener.onDataAdd(index);    });  }  notifyDataChange(index: number): void {    this.listeners.forEach(listener => {      listener.onDataChange(index);    });  }  notifyDataDelete(index: number): void {    this.listeners.forEach(listener => {      listener.onDataDelete(index);    });  }  notifyDataMove(from: number, to: number): void {    this.listeners.forEach(listener => {      listener.onDataMove(from, to);    });  }  notifyDatasetChange(operations: DataOperation[]): void {    this.listeners.forEach(listener => {      listener.onDatasetChange(operations);    });  }}export class MyDataSource extends BasicDataSource {  private dataArray: ThumbnailData[] = [];  public totalCount(): number {    return this.dataArray.length;  }  public getData(index: number): ThumbnailData {    return this.dataArray[index];  }  public pushData(data: ThumbnailData): void {    this.dataArray.push(data);    this.notifyDataAdd(this.dataArray.length - 1);  }  /**   * @description: 替换指定索引的数据   * @param index 要替换的索引   * @param newData 新的数据   */  public replaceData(index: number, newData: ThumbnailData): void {    if (index < 0 || index >= this.dataArray.length) {      console.warn(`replaceData: index ${index} out of range`);      return;    }    // 替换数据    this.dataArray[index] = newData;    // 通知监听器该索引数据已改变    this.notifyDataChange(index);  }}@Observedexport class ThumbnailData {  message: NestedString;  constructor(message: NestedString) {    this.message = message;  }}@Observedexport class NestedString {  message: image.PixelMap;  constructor(message: image.PixelMap) {    this.message = message;  }}